{% load static %}
{% load tags %}

<head>
    <link rel="icon" type="image/x-icon" href="{% static 'ytlogo.ico' %}">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
     <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.min.js"></script>
    <script type="text/javascript">
        const CSRF_TOKEN = "{{ csrf_token }}";
    </script>

    <script src="{% static 'js/app.js' %}"></script>

    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    <link rel="stylesheet" href="{% static 'css/multi-range.css' %}">
    <link rel="stylesheet" href="{% static 'css/list-item.css' %}">
    <link rel="stylesheet" href="{% static 'css/forms.css' %}">
    <link rel="stylesheet" href="{% static 'css/sandwich-icon.css' %}">

    {% block scripts %}

    {% endblock %}
</head>
<body class="preload">
    <nav id="top-nav">
        <div id="sandwich-icon" data-sidebar="#sidebar-left">
            <span></span>
            <span></span>
            <span></span>
            <span></span>
        </div>
        {% if request.path == '/' %}
            <h2 class="head">Yawning Titan</h2>
        {% else %}
            <a href="{% url 'home' %}" class="head">Yawning Titan</a>
        {% endif %}
        <div class="flex-break"></div>
        <div id="error-message" class="{% if error_message is None %}hidden{% endif %}">{{error_message}}</div>
    </nav>
    <div id="window-container">
        <div id="toolbar">
            {% for id, el in toolbar.items %}
                <div id="{{id}}" class="stage" data-toggle="tooltip" data-placement="right" title="{{el.title}}">
                    <i class="bi {{el.icon}}"></i>
                    <i class="bi {{el.icon}}-fill"></i>
                </div>
            {% endfor %}
        </div>
        <div id="window">
            <div id="sidebar-left">
                <div id="nav-accordion" class="accordion">
                    {% for button_name, links in sidebar.items %}
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="{{button_name|to_id}}-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#{{button_name|to_id}}-links" aria-expanded="false" aria-controls="images-list">
                                {{button_name}}
                            </button>
                        </h2>
                        <div id="{{button_name|to_id}}-links" class="accordion-collapse collapse" aria-labelledby="{{button_name|to_id}}-header" data-bs-parent="#nav-accordion">
                            <div class="accordion-body list">
                            {% for link in links %}
                                <a class="wide" href="{{link|get_url}}">{{link}}</a>
                            {% endfor %}
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                {% block sidebar %}

                {% endblock %}
            </div>
            <div id="main">
                {% block main %}

                {% endblock %}
            </div>
        </div>
    </div>
    <div id="mask" class="hidden">
        {% block dialogues %}

        {% endblock %}
    </div>
    <script> </script>
</body>

{% block style %}
{% endblock %}
